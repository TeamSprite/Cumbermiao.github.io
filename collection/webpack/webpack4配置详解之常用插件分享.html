<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>Cumber&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="keywords" content="Cumber,Cumbermiao,Cumber's Blog">
  
  <meta name="description" content="原文链接：https://zhuanlan.zhihu.com/p/50233386 webpack4配置详解之常用插件分享前言继上一次webpack的基础配置分享之后，本次将分享一些工作中项目常用的配置插件、也会包含一些自己了解过觉得不错的插件，如有分析不到位的，欢迎纠错，嗯，这些东西文档都有，大佬可绕过。 Wepack4之后废弃了很多的插件，这里只会讲解webpack4还支持的（包含4之前插件">
<meta property="og:type" content="website">
<meta property="og:title" content="Cumber&#39;s Blog">
<meta property="og:url" content="http://cumbermiao.github.io/collection/webpack/webpack4配置详解之常用插件分享.html">
<meta property="og:site_name" content="Cumber&#39;s Blog">
<meta property="og:description" content="原文链接：https://zhuanlan.zhihu.com/p/50233386 webpack4配置详解之常用插件分享前言继上一次webpack的基础配置分享之后，本次将分享一些工作中项目常用的配置插件、也会包含一些自己了解过觉得不错的插件，如有分析不到位的，欢迎纠错，嗯，这些东西文档都有，大佬可绕过。 Wepack4之后废弃了很多的插件，这里只会讲解webpack4还支持的（包含4之前插件">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://pic4.zhimg.com/v2-ab98abf9b323478d1f31dd8dfd682fc7_b.jpg">
<meta property="og:image" content="https://pic4.zhimg.com/v2-ab98abf9b323478d1f31dd8dfd682fc7_b.jpg">
<meta property="og:image" content="https://pic2.zhimg.com/v2-e7312bf8ede5cfbb831e92745b80bf75_b.jpg">
<meta property="og:image" content="https://pic2.zhimg.com/v2-e7312bf8ede5cfbb831e92745b80bf75_b.jpg">
<meta property="og:image" content="https://pic2.zhimg.com/v2-97ce8ff7cd1a973d108fb4dbc5370bd9_b.jpg">
<meta property="og:image" content="https://pic2.zhimg.com/v2-97ce8ff7cd1a973d108fb4dbc5370bd9_b.jpg">
<meta property="og:image" content="https://pic3.zhimg.com/v2-4da194979cc83eb62e278d67a792a7da_b.jpg">
<meta property="og:image" content="https://pic3.zhimg.com/v2-4da194979cc83eb62e278d67a792a7da_b.jpg">
<meta property="og:image" content="https://pic2.zhimg.com/v2-00dfa609e38f5beefb4cc932a7a06b81_b.jpg">
<meta property="og:image" content="https://pic2.zhimg.com/v2-00dfa609e38f5beefb4cc932a7a06b81_b.jpg">
<meta property="og:updated_time" content="2019-03-26T11:59:52.512Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Cumber&#39;s Blog">
<meta name="twitter:description" content="原文链接：https://zhuanlan.zhihu.com/p/50233386 webpack4配置详解之常用插件分享前言继上一次webpack的基础配置分享之后，本次将分享一些工作中项目常用的配置插件、也会包含一些自己了解过觉得不错的插件，如有分析不到位的，欢迎纠错，嗯，这些东西文档都有，大佬可绕过。 Wepack4之后废弃了很多的插件，这里只会讲解webpack4还支持的（包含4之前插件">
<meta name="twitter:image" content="https://pic4.zhimg.com/v2-ab98abf9b323478d1f31dd8dfd682fc7_b.jpg">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  <script src="/js/pace.min.js"></script>
  

  
  

</head>
</html>
<body>
  <div id="container">
      <header id="header">
    <div id="banner"></div>
    <div id="header-outer">
        <div id="header-menu" class="header-menu-pos animated">
            <div class="header-menu-container">
                <a href="/" class="left">
                    <span class="site-title">Cumber&#39;s Blog</span>
                </a>
                <nav id="header-menu-nav" class="right">
                    
                    <a href="/">
                        <i class="fa fa-home"></i>
                        <span>Home</span>
                    </a>
                    
                    <a href="/archives">
                        <i class="fa fa-archive"></i>
                        <span>Archives</span>
                    </a>
                    
                    <a href="/about">
                        <i class="fa fa-user"></i>
                        <span>About</span>
                    </a>
                    
                </nav>
                <a class="mobile-header-menu-button">
                    <i class="fa fa-bars"></i>
                </a>
            </div>
        </div>
        <div id="header-row">
            <div id="logo">
                <a href="/">
                    <img src="/images/logo.png" alt="logo">
                </a>
            </div>
            <div class="header-info">
                <div id="header-title">
                    
                    <h2>
                        Cumber&#39;s Blog
                    </h2>
                    
                </div>
                <div id="header-description">
                    
                    <h3>
                        专注前端发展
                    </h3>
                    
                </div>
            </div>
            <nav class="header-nav">
                <div class="social">
                    
                        <a title="Cumbermiao" target="_blank" href="//cumbermiao.github.io">
                            <i class="fa fa-home fa-2x"></i></a>
                    
                        <a title="Github" target="_blank" href="//github.com/cumbermiao">
                            <i class="fa fa-github fa-2x"></i></a>
                    
                </div>
            </nav>
        </div>
    </div>
</header>
      <div class="outer">
        <section id="main" class="body-wrap"><article id="page-" class="article article-type-page" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
    <div class="article-entry " itemprop="articleBody">
      
            
            <p>原文链接：<a href="https://zhuanlan.zhihu.com/p/50233386" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/50233386</a></p>
<h1 id="webpack4配置详解之常用插件分享"><a href="#webpack4配置详解之常用插件分享" class="headerlink" title="webpack4配置详解之常用插件分享"></a>webpack4配置详解之常用插件分享</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a><a href="http://link.zhihu.com/?target=https%3A//blog.csdn.net/weixin_43254766/article/details/83267838" target="_blank" rel="noopener">前言</a></h2><p>继上一次webpack的基础配置分享之后，本次将分享一些工作中项目常用的配置插件、也会包含一些自己了解过觉得不错的插件，如有分析不到位的，欢迎纠错，<strong>嗯，这些东西文档都有，大佬可绕过</strong>。</p>
<p>Wepack4之后废弃了很多的插件，这里只会讲解webpack4还支持的（<code>包含4之前插件</code>），已经废弃的将不再阐述。</p>
<p>上一次的分享之后，有部分掘金网友留言质疑：<code>骗小白的赞</code>、<code>是否原创</code>、<code>是否是抄别人</code>等等，当然也有很多的网友支持和鼓励，不管褒贬，苏南都非常的感谢，是你们让我认识到自己的不足与优劣。</p>
<p>大家的留言，让我想起了自己刚入门前端初期的心酸，基本靠自己自学，没有人带，遇到问题像无头的苍蝇，到处乱撞网上一顿搜索，百度不曾欺我，在点了一个又一个的广告之后，翻过十页八页之后终于找到了问题的解决方案。</p>
<p>执着于对前端的热爱，常常一个问题卡到深夜，初入前端的我曾一度感叹在编辑器写一些东西，在网页上就能跑，甚至感叹 <code>js</code> 写上一个 <code>alert</code> hello world，浏览器就会自动弹出一个窗口，感觉全世界都在向你招手，当时的兴奋是难以形容的，甚至幻想着未来有一天，可能有千万、亿万的用户，在用你写的东西。</p>
<p>这几天一直在想，这篇插件的总结还是否要继续写下去？从写博客到今天，将近两个月吧，也算是一个新人，技术方面虽说工作了几年，但也不敢说多牛B，写博客的初衷是为了对自己工作中遇到的问题/心得等做一个总结，俗话说：好记性不如烂笔头；同时也希望能把自己遇到的问题、坑点分享给他人，让遇到同样问题的基友们能少走那么一点点弯路。</p>
<p>终于最后在想了很久之后明白，人无完人，百人百性、千人千面，不管你做总会有不同的声音，同样不管你分享什么，总会有人需要。所以走自己的路，让别人打车吧，坚持自己所想 努力成为自己想成为的样子，就是对自己最大的肯定 ———— <strong>至曾经初入前端的我们</strong>。</p>
<ul>
<li>去做想做的事，去爱值得的人；</li>
<li>去成为自己喜欢的模样，</li>
<li>去让自己发光！浑身充满力量，</li>
<li>充实的日子最美好！</li>
</ul>
<blockquote>
<p>各位早安，这里是<a href="http://link.zhihu.com/?target=https%3A//honeybadger8.github.io/blog/" target="_blank" rel="noopener">@IT·平头哥联盟</a>，我是<a href="http://link.zhihu.com/?target=https%3A//github.com/meibin08" target="_blank" rel="noopener">首席填坑官∙苏南</a>，用心分享 一起成长 做有温度的攻城狮。 公众号：<code>honeyBadger8</code>，群：912594095  </p>
</blockquote>
<h2 id="mini-css-extract-plugin"><a href="#mini-css-extract-plugin" class="headerlink" title="mini-css-extract-plugin"></a>mini-css-extract-plugin</h2><ul>
<li>css-提取，看名字就懂提取css用的。</li>
<li>在这之前我们可能会使用<code>extract-text-webpack-plugin</code>比较多一些，两者相比它有什么优势呢？</li>
<li>extract-text-webpack-plugin 它对css的提取，最终是根据你创建的实例、或者配置多个入口 chunk来的，</li>
<li>比如你配置了一个入口文件，最终所有的css都会提取在一个样式文件里，</li>
<li>如果你创建了多个<code>extract-text-webpack-plugin</code>实例，则会生成多个css的文件，</li>
<li>而<code>mini-css-extract-plugin</code>，它默认就会对你的样式进行模块化拆分，嗯，有点跟<code>output</code>里的配置一个意思，异步按需加载，不再仅仅是js的特权;</li>
</ul>
<p><img src="https://pic4.zhimg.com/v2-ab98abf9b323478d1f31dd8dfd682fc7_b.jpg" alt=""></p>
<p><img src="https://pic4.zhimg.com/v2-ab98abf9b323478d1f31dd8dfd682fc7_b.jpg" alt=""></p>
<pre><code>//extract-text-webpack-plugin 编译打包
config.module.rules.push({
  test: /\.(scss|css)$/,
  use: ExtractTextPlugin.extract({
    use: [
      &quot;css-loader&quot;,
      { //首席填坑官∙苏南的专栏 交流：912594095、公众号：honeyBadger8
        loader: &apos;postcss-loader&apos;,
        options: {
          plugins: [
            require(&apos;autoprefixer&apos;)({ //添加前缀
              browsers: CSS_BROWSERS,
            }),
          ],
          minimize: true
        },
      },
      &quot;sass-loader&quot;
    ]
  })
})
config.plugins.push(new ExtractTextPlugin({
  filename: &apos;css/[name].css&apos;,
  disable: false,
  allChunks: true,
}));


//mini-css-extract-plugin  编译打包
config.module.rules.push({
  test: /\.(scss|css)$/,//同时处理css/scss
    use: [
      {
        loader: MiniCssExtractPlugin.loader,
      },
      &quot;css-loader&quot;, //css处理器
      {
        loader: &apos;postcss-loader&apos;,
        /*
            postcss 这个插件的作用在于，与已有的工具集成一起使用，很少有单独使用的情况，
            通用我们用的最多的，是配合 autoprefixer 来添加各浏览器的前缀，以达到更好的兼容，
            再深入一些就是 cssnext 就是允许开发者自定义属性和变量 ：     color:var(--theme-color,#42b983);
        */
        options: {
          plugins: [
            require(&apos;autoprefixer&apos;)({ 
              browsers: CSS_BROWSERS,
            }),
          ],
        },
      },
      &quot;sass-loader&quot; //sass处理器 、甚至还可以再加一个less的处理器
    ]
})

config.plugins.push(new MiniCssExtractPlugin({
  filename: &apos;css/[name].css&apos;, //这里配置跟output写法一致
  chunkFilename: &apos;css/[id][chunkhash:8].css&apos;,
}));
config.plugins.push(new OptimizeCssAssetsPlugin({})); //压缩文件
</code></pre><h2 id="optimize-css-assets-webpack-plugin"><a href="#optimize-css-assets-webpack-plugin" class="headerlink" title="optimize-css-assets-webpack-plugin"></a>optimize-css-assets-webpack-plugin</h2><ul>
<li>上面的示例里已经用到了，它的作用在于压缩css文件，</li>
<li><code>assetNameRegExp</code>：默认是全部的css都会压缩，该字段可以进行指定某些要处理的文件，</li>
<li><code>cssProcessor</code>：指定一个优化css的处理器，默认<code>cssnano</code>，</li>
<li><code>cssProcessorPluginOptions</code>：cssProcessor后面可以跟一个process方法，会返回一个promise对象，而cssProcessorPluginOptions就是一个options参数选项！</li>
<li><code>canPrint</code>：布尔，是否要将编译的消息显示在控制台，没发现有什么用！</li>
<li><p><strong>坑点</strong> ：建议使用高版本的包，之前低版本有遇到样式丢失把各浏览器前缀干掉的问题，</p>
<p>new OptimizeCssAssetsPlugin({<br>  assetNameRegExp: /.optimize.css$/g,<br>  cssProcessor: require(‘cssnano’),<br>  cssProcessorPluginOptions: {</p>
<pre><code>preset: [&apos;default&apos;, { discardComments: { removeAll: true } }],
//autoprefixer: { browsers: CSS_BROWSERS }, 也是可以指定前缀的
</code></pre><p>  },<br>  canPrint: true<br>})</p>
</li>
</ul>
<h2 id="SplitChunksPlugin、RuntimeChunkPlugin"><a href="#SplitChunksPlugin、RuntimeChunkPlugin" class="headerlink" title="SplitChunksPlugin、RuntimeChunkPlugin"></a>SplitChunksPlugin、RuntimeChunkPlugin</h2><ul>
<li>它们跟上一篇的<code>optimization</code>配置下的的<code>splitChunks</code>、<code>runtimeChunk</code>基本是一致的，；</li>
<li>SplitChunksPlugin、RuntimeChunkPlugin，其实就是webpack4之前<code>CommonsChunkPlugin</code>的替代品，用于提取一些公共模块；</li>
<li><code>chunks</code>：要进行处理的类型，它有三个值：all,async,initial</li>
<li><code>minSize</code>：最少大小</li>
<li><code>maxSize</code>：最大包的大小，超出生成新的包</li>
<li><code>minChunks</code>：至少要引用N次的模块，</li>
<li><code>maxAsyncRequests</code>：最大的按需加载并行请求数量</li>
<li><p><code>maxInitialRequests</code>：最大的初始化加载请求次数</p>
<p>new webpack.optimize.SplitChunksPlugin({</p>
<pre><code>    chunks: &apos;async&apos;, 
  minSize: 30000, 
  maxSize: 0, 
minChunks: 1,  
  maxAsyncRequests: 1,
    maxInitialRequests:1, 
name: true, //可以指定
……,
</code></pre><p>  }),<br>  new webpack.optimize.RuntimeChunkPlugin({</p>
<pre><code>name: &apos;manifest&apos;,
name: entrypoint =&gt; `runtimechunk~${entrypoint.name}` //动态文件名
</code></pre><p>  })</p>
</li>
</ul>
<h2 id="HotModuleReplacementPlugin"><a href="#HotModuleReplacementPlugin" class="headerlink" title="HotModuleReplacementPlugin"></a>HotModuleReplacementPlugin</h2><ul>
<li>热更新替换，在不刷新重载页面的情况下更换编辑修改后的代码：</li>
<li>它只会更新改动过的内容，所以速度很快，几乎在自己刚改完，切到浏览器窗口内容就已经更新完了；</li>
<li>使用 <code>HotModuleReplacementPlugin</code>插件后，它会暴露一个<code>module.hot</code>对象，它下面有很多的属性：</li>
<li><code>accept</code>：它有两个参数，一个是授权模块(可以直接是单个文件路径、也可以是一个数组包含多个文件路径)，第二个参数，是回调函数，即更新后要做的逻辑处理。</li>
<li><code>decline</code> 有点黑名单的意思，就是忽略一些模块，不更新它们，</li>
<li><code>status</code> 当前更新的状态，idle、check、prepare、ready、dispose、apply、fail等；</li>
<li>一般只用到 <code>accept</code> 最多，下面有个示例；</li>
</ul>
<p><img src="https://pic2.zhimg.com/v2-e7312bf8ede5cfbb831e92745b80bf75_b.jpg" alt=""></p>
<p><img src="https://pic2.zhimg.com/v2-e7312bf8ede5cfbb831e92745b80bf75_b.jpg" alt=""></p>
<pre><code>new webpack.HotModuleReplacementPlugin()


//路由入口页
……
if (module.hot) {
    module
        .hot
        .accept([
            &apos;./pages/routes&apos;
        ], (err) =&gt; {
            const NextRoute = require(&apos;./pages/routes&apos;)
            // 从DOM 中移除已经挂载的 React 组件 然后重装
            ReactDOM.unmountComponentAtNode(APP_DOM);
            ReactDOM.render(
                &lt;Provider store={Store}&gt;
                    &lt;Router routes={NextRoute} history={browserHistory}/&gt;
                &lt;/Provider&gt;, APP_DOM);
        });
}
……
</code></pre><h2 id="html-webpack-plugin"><a href="#html-webpack-plugin" class="headerlink" title="html-webpack-plugin"></a>html-webpack-plugin</h2><ul>
<li>这个插件相信大家都熟悉的不能再熟悉了,</li>
<li>把编译后的文件（css/js）插入到入口文件中，可以只指定某些文件插入，可以对html进行压缩等</li>
<li><code>filename</code>：输出文件名；</li>
<li><code>template</code>：模板文件，不局限于html后缀哦；</li>
<li><code>removeComments</code>：移除HTML中的注释；</li>
<li><code>collapseWhitespace</code>：删除空白符与换行符，整个文件会压成一行；</li>
<li><code>inlineSource</code>：插入到html的css、js文件都要内联，即不是以link、script的形式引入；</li>
<li><code>inject</code>：是否能注入内容到 输出 的页面去；</li>
<li><code>chunks</code>：指定插入某些模块；</li>
<li><code>hash</code>：每次会在插入的文件后面加上hash ，用于处理缓存，如：；</li>
<li><p>其他：favicon、meta、title ……；</p>
<p>new HtmlWebPackPlugin({<br>  filename: path.resolve(<strong>dirname, ‘../assets/index.html’),<br>  template: path.resolve(</strong>dirname,”../views/temp.html”),<br>  minify:{ //压缩HTML文件　<br>　　removeComments:true,<br>　　collapseWhitespace:true </p>
<pre><code>},
</code></pre><p>  inlineSource:  ‘.(js|css)’,<br>  inject: false,</p>
<pre><code>chunks: [&apos;vendors&apos;, &apos;index&apos;], //首席填坑官∙苏南的专栏
hash:true, 
favicon、meta、title等都可以配置，页面内使用「&lt;%= htmlWebpackPlugin.options.title %&gt;」即可
……
</code></pre><p>})</p>
</li>
</ul>
<h2 id="uglifyjs-webpack-plugin"><a href="#uglifyjs-webpack-plugin" class="headerlink" title="uglifyjs-webpack-plugin"></a>uglifyjs-webpack-plugin</h2><ul>
<li>js代码压缩,默认会使用 optimization.minimizer，</li>
<li><code>cache</code>: Boolean/String ,字符串即是缓存文件存放的路径；</li>
<li><code>test</code>：正则表达式、字符串、数组都可以，用于只匹配某些文件，如：/.js(\?.*)?$/i;</li>
<li><code>parallel</code> : 启用多线程并行运行来提高编译速度，经常编译的时候听到电脑跑的呼呼响，可能就是它干的，哈哈～；</li>
<li><code>output.comments</code> ： 删除所有注释，</li>
<li><code>compress.warnings</code> ：插件在进行删除一些无用代码的时候，不提示警告，</li>
<li><code>compress.drop_console</code>：喜欢打console的同学，它能自动帮你过滤掉，再也不用担心线上还打印日志了；</li>
<li><p>等等还有一些如：定义压缩的程度、提出多次出现但没有变量的值的配置，想深入的同学可移步官方；</p>
<p>//默认：<br>optimization:{</p>
<pre><code>minimizer:true
</code></pre><p>};</p>
<p>//自定义<br>minimizer: [<br>  new UglifyJsPlugin({</p>
<pre><code>cache: true,
// cache: &quot;assets&quot;, 
parallel: true, //也可以指定 Number ,即最多并行运行数量
sourceMap: true,
uglifyOptions: {
  output: {
    comments: false,
    …… //首席填坑官∙苏南的专栏，QQ:912594095
  },
  compress: {
      warnings: false,
      drop_console:true,
      …… 
    }
},
</code></pre><p>  }),<br>],</p>
</li>
</ul>
<h2 id="BannerPlugin"><a href="#BannerPlugin" class="headerlink" title="BannerPlugin"></a>BannerPlugin</h2><ul>
<li>这个插件，它的作用在于某些时候，我们需要对文件添加一些说明，比如版本号，作者、日期等，</li>
<li>它就可以帮到，每次编译，在头部插件一些注释；</li>
<li>它可以直接是一个字符串，也可以是一个options;</li>
<li>嗯，差点忘说了，它是webpack<code>自带</code>的一个插件，不用另外再安装依赖，</li>
</ul>
<p><img src="https://pic2.zhimg.com/v2-97ce8ff7cd1a973d108fb4dbc5370bd9_b.jpg" alt=""></p>
<p><img src="https://pic2.zhimg.com/v2-97ce8ff7cd1a973d108fb4dbc5370bd9_b.jpg" alt=""></p>
<pre><code>//字符串：
new webpack.BannerPlugin(&apos;给文件添加一些信息，打包日期：&apos;+ new Date());

//自定义
plugins: [
  new webpack.BannerPlugin({
    {
          banner: &apos; \n @item:苏南的项目 \n @author:suSouth \n @date:&apos;+new Date()+&apos; \n @description:苏南的项目 \n @version:&apos;+package.version+&apos;  \n&apos;, // 要输出的注释内容
          test:string/正则/数组，//可用于匹配某些文件才输出，
          entryOnly: boolean, // 即是否只在入口 模块 文件中添加注释；
          ……
        }
  })
],
</code></pre><h2 id="preload-webpack-plugin"><a href="#preload-webpack-plugin" class="headerlink" title="preload-webpack-plugin"></a>preload-webpack-plugin</h2><ul>
<li>在使用这个插件之前，我们需要先了解一下 <code>preload</code>、<code>prefetch</code>，从字面意思上讲：<code>预加载</code>，</li>
<li>不难理解，就是提前加载资源(<strong>匹配其他页面可能用到的资源进行预先，从而达到无loading ，用户无感知的跳转</strong>)，它的使用也非常的简单，在你要进行预加载的资源上添加 rel=”preload”标签即可；</li>
<li>示例：</li>
<li>而<code>preload-webpack-plugin</code>它的作用就是在编译打包的时候，帮我们把以上的操作都做了，</li>
<li>编译完成后，你可以（指定某些/全部）文件动态插入到 <code>HtmlWebPackPlugin</code> 配置输出的文件内，</li>
<li><code>as</code>： 表示你预加载的资源类型；可以有有先多：script、font、image、style、video等等，更多详细请查看<a href="http://link.zhihu.com/?target=https%3A//developer.mozilla.org/zh-CN/docs/Web/HTML/Preloading_content" target="_blank" rel="noopener">API</a>，它还可以返回function；</li>
<li><code>include</code>：要插入，进行预加载的文件，它有：allChunks、initial、asyncChunks、数组等选项，数组即表示指定插入某些文件</li>
<li><code>fileBlacklist</code>:即文件黑名单，可以指定某个文件，也可以使用正则来匹配；</li>
</ul>
<p><img src="https://pic3.zhimg.com/v2-4da194979cc83eb62e278d67a792a7da_b.jpg" alt=""></p>
<p><img src="https://pic3.zhimg.com/v2-4da194979cc83eb62e278d67a792a7da_b.jpg" alt=""></p>
<pre><code>//注意点1：请把配置一定写在HtmlWebPackPlugin插件之后，否则会报`HtmlWebpackPlugin.getHooks is not a function`错误，
//注意点2：webpack4之后，请使用最新版本 npm install --save-dev preload-webpack-plugin@next，

new PreloadWebpackPlugin({
  rel: &apos;prefetch&apos;,
  as: &apos;script&apos;,
  // as(entry) {
  //   if (/\.css$/.test(entry)) return &apos;style&apos;;
  //   return &apos;script&apos;;//首席填坑官∙苏南的专栏，QQ:912594095
  // },
  include: &apos;asyncChunks&apos;,
  // fileBlacklist: [&quot;index.css&quot;]
  fileBlacklist: [/\index.css|index.js|vendors.js/, /\.whatever/]
})
</code></pre><h2 id="webpack-bundle-analyzer"><a href="#webpack-bundle-analyzer" class="headerlink" title="webpack-bundle-analyzer"></a>webpack-bundle-analyzer</h2><ul>
<li>这个插件还是蛮棒的，强烈推荐可以看看，也是本次分享的最后一个插件</li>
<li>它的作用在于能帮我们很清晰直观的看到，你编译后的每一个、每一个文件哦，内容的分布组成，有利于我们快速查找包过大、内容是否重复、问题定位优化等；</li>
<li>它会在编译完成后，自动启动一个服务、也可以自定义配置，打开一个可视化窗口，鼠标移动到对应的模块上，都可以显示出，该模块在某文件内占比的大小及stat、parsed、gzipped等的状态；</li>
<li><code>analyzerHost</code>、<code>analyzerPort</code>：自定配置打开的地址、端口，默认使用：127.0.0.1:8888</li>
<li><code>reportFilename</code>： 报告生成的路径，默认以项目的output.path输出；</li>
<li><code>openAnalyzer</code>：是否要自动打开分析窗口，</li>
<li>其他还有很多属性，官网也有，这里只是引导简介，请大佬们勿喷；</li>
</ul>
<p><img src="https://pic2.zhimg.com/v2-00dfa609e38f5beefb4cc932a7a06b81_b.jpg" alt=""></p>
<p><img src="https://pic2.zhimg.com/v2-00dfa609e38f5beefb4cc932a7a06b81_b.jpg" alt=""></p>
<pre><code>plugins:[
    new BundleAnalyzerPlugin({...}) //默认配置就很好了，能满足我们的要求
]
</code></pre><h2 id="常用的几个插件地址汇总："><a href="#常用的几个插件地址汇总：" class="headerlink" title="常用的几个插件地址汇总："></a>常用的几个插件地址汇总：</h2><ul>
<li><a href="http://link.zhihu.com/?target=https%3A//github.com/webpack-contrib/mini-css-extract-plugin" target="_blank" rel="noopener">mini-css-extract-plugin</a> 样式提取插件</li>
<li><a href="http://link.zhihu.com/?target=https%3A//github.com/NMFR/optimize-css-assets-webpack-plugin" target="_blank" rel="noopener">optimize-css-assets-webpack-plugin</a> 样式优化压缩/配合添加前缀等</li>
<li><a href="http://link.zhihu.com/?target=https%3A//github.com/jantimon/html-webpack-plugin" target="_blank" rel="noopener">html-webpack-plugin</a> 生成入口文件，并注入依赖</li>
<li><a href="http://link.zhihu.com/?target=https%3A//github.com/webpack-contrib/uglifyjs-webpack-plugin" target="_blank" rel="noopener">uglifyjs-webpack-plugin</a> js压缩</li>
<li><a href="http://link.zhihu.com/?target=https%3A//github.com/GoogleChromeLabs/preload-webpack-plugin" target="_blank" rel="noopener">preload-webpack-plugin</a> 资源预加载</li>
<li><a href="http://link.zhihu.com/?target=https%3A//github.com/webpack-contrib/webpack-bundle-analyzer" target="_blank" rel="noopener">webpack-bundle-analyzer</a> 可视化编译分析</li>
<li><a href="http://link.zhihu.com/?target=https%3A//github.com/webpack-contrib/webpack-bundle-analyzer" target="_blank" rel="noopener">copy-webpack-plugin</a> 文件拷贝</li>
<li><a href="http://link.zhihu.com/?target=https%3A//blog.csdn.net/weixin_43254766/article/details/83758660" target="_blank" rel="noopener">BannerPlugin</a> 给文件开头处添加注释</li>
<li><a href="http://link.zhihu.com/?target=https%3A//github.com/Jimdo/typings-for-css-modules-loader" target="_blank" rel="noopener">typings-for-css-modules-loader</a></li>
<li><a href="http://link.zhihu.com/?target=https%3A//github.com/Jimdo/typings-for-css-modules-loader" target="_blank" rel="noopener">awesome-typescript-loader</a></li>
</ul>
<h2 id="结尾："><a href="#结尾：" class="headerlink" title="结尾："></a>结尾：</h2><ul>
<li><a href="http://link.zhihu.com/?target=https%3A//github.com/honeybadger8/blog-resource" target="_blank" rel="noopener">完整配置示例</a></li>
</ul>
<p>以上就是今天为大家整理的几个项目中常用的插件，可能有些地方理解的不是特别到位，欢迎大家补充，同时我也给大家准备了一个整合后完整的webpack配置的示例，如有兴趣可自行测试。</p>
<p>下一期计划跟大家一起分享“React如何封装一个组件”（或者说沉淀一个组件库）来简单实战一下react如何上手？欢迎持续关注，如觉得不错记得点个赞哦，当然您能动动手指关注<strong>公Z号(</strong> honeyBadger8 <strong>)</strong> 就更棒了，谢谢支持！</p>
<h2 id="更多文章："><a href="#更多文章：" class="headerlink" title="更多文章："></a>更多文章：</h2><ul>
<li><a href="http://link.zhihu.com/?target=https%3A//blog.csdn.net/weixin_43254766/article/details/83962877" target="_blank" rel="noopener">webpack4配置详解之慢嚼细咽</a></li>
<li><a href="http://link.zhihu.com/?target=https%3A//blog.csdn.net/weixin_43254766/article/details/83618630" target="_blank" rel="noopener">如何给localStorage设置一个过期时间？</a></li>
<li><a href="http://link.zhihu.com/?target=https%3A//blog.csdn.net/weixin_43254766/article/details/83758660" target="_blank" rel="noopener">easy-mock 最好的备胎没有之一</a></li>
<li><a href="http://link.zhihu.com/?target=https%3A//blog.csdn.net/weixin_43254766/article/details/83472544" target="_blank" rel="noopener">immutability因React官方出镜之使用总结分享！</a></li>
<li><a href="http://link.zhihu.com/?target=https%3A//blog.csdn.net/weixin_43254766/article/details/83119712" target="_blank" rel="noopener">面试踩过的坑，都在这里了～</a></li>
<li><a href="http://link.zhihu.com/?target=https%3A//blog.csdn.net/weixin_43254766/article/details/83267838" target="_blank" rel="noopener">你应该做的前端性能优化之总结大全！</a></li>
<li><a href="http://link.zhihu.com/?target=https%3A//blog.csdn.net/weixin_43254766/article/details/83472829" target="_blank" rel="noopener">动画一点点 - 如何用CSS3画出懂你的3D魔方？</a></li>
</ul>
<blockquote>
<p>作者：<a href="http://link.zhihu.com/?target=https%3A//github.com/meibin08/" target="_blank" rel="noopener">苏南 - 首席填坑官</a><br>链接：<a href="http://link.zhihu.com/?target=https%3A//blog.csdn.net/weixin_43254766/article/details/83758660" target="_blank" rel="noopener">https://blog.csdn.net/weixin_43254766/article/details/83758660</a><br>交流：912594095、公Z号：<code>honeyBadger8</code><br>本文原创，著作权归作者所有。商业转载请联系<code>@IT·平头哥联盟</code>获得授权，非商业转载请注明原链接及出处。</p>
</blockquote>

            <div class="post-copyright">
    <div class="content">
        <p>最后更新： 2019年03月26日 19:59</p>
        <p>原始链接： <a class="post-url" href="/collection/webpack/webpack4配置详解之常用插件分享.html" title="">http://cumbermiao.github.io/collection/webpack/webpack4配置详解之常用插件分享.html</a></p>
        <footer>
            <a href="http://cumbermiao.github.io">
                <img src="/images/logo.png" alt="Cumbermiao">
                Cumbermiao
            </a>
        </footer>
    </div>
</div>

      
        
            
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;">赏</a>
</div>

<div id="reward" class="post-modal reward-lay">
    <a class="close" href="javascript:;" id="reward-close">×</a>
    <span class="reward-title">
        <i class="icon icon-quote-left"></i>
        请我吃糖~
        <i class="icon icon-quote-right"></i>
    </span>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/images/wechat.jpg" alt="打赏二维码">
        </div>
        <div class="reward-select">
            
            <label class="reward-select-item checked" data-id="wechat" data-wechat="/images/wechat.jpg">
                <img class="reward-select-item-wechat" src="/images/wechat.png" alt="微信">
            </label>
            
            
            <label class="reward-select-item" data-id="alipay" data-alipay="/images/alipay.jpg">
                <img class="reward-select-item-alipay" src="/images/alipay.png" alt="支付宝">
            </label>
            
        </div>
    </div>
</div>


        
    </div>
    <footer class="article-footer">
        
        
<div class="post-share">
    <a href="javascript:;" id="share-sub" class="post-share-fab">
        <i class="fa fa-share-alt"></i>
    </a>
    <div class="post-share-list" id="share-list">
        <ul class="share-icons">
          <li>
            <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://cumbermiao.github.io/collection/webpack/webpack4配置详解之常用插件分享.html&title=Cumber's Blog&pic=http://cumbermiao.github.ioimages/logo.png" data-title="微博">
              <i class="fa fa-weibo"></i>
            </a>
          </li>
          <li>
            <a class="weixin share-sns" id="wxFab" href="javascript:;" data-title="微信">
              <i class="fa fa-weixin"></i>
            </a>
          </li>
          <li>
            <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://cumbermiao.github.io/collection/webpack/webpack4配置详解之常用插件分享.html&title=Cumber's Blog&source=专注前端" data-title="QQ">
              <i class="fa fa-qq"></i>
            </a>
          </li>
          <li>
            <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://cumbermiao.github.io/collection/webpack/webpack4配置详解之常用插件分享.html" data-title="Facebook">
              <i class="fa fa-facebook"></i>
            </a>
          </li>
          <li>
            <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=Cumber's Blog&url=http://cumbermiao.github.io/collection/webpack/webpack4配置详解之常用插件分享.html&via=http://cumbermiao.github.io" data-title="Twitter">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
          <li>
            <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://cumbermiao.github.io/collection/webpack/webpack4配置详解之常用插件分享.html" data-title="Google+">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        </ul>
     </div>
</div>
<div class="post-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;" id="wxShare-close">×</a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=http://cumbermiao.github.io/collection/webpack/webpack4配置详解之常用插件分享.html" alt="微信分享二维码">
</div>

<div class="mask"></div>

        
        <ul class="article-footer-menu">
            
            
        </ul>
        
    </footer>
  </div>
</article>


    <aside class="post-toc-pos post-toc-top" id="post-toc">
        <nav class="post-toc-wrap">
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#webpack4配置详解之常用插件分享"><span class="post-toc-text">webpack4配置详解之常用插件分享</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#前言"><span class="post-toc-text">前言</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#mini-css-extract-plugin"><span class="post-toc-text">mini-css-extract-plugin</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#optimize-css-assets-webpack-plugin"><span class="post-toc-text">optimize-css-assets-webpack-plugin</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#SplitChunksPlugin、RuntimeChunkPlugin"><span class="post-toc-text">SplitChunksPlugin、RuntimeChunkPlugin</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#HotModuleReplacementPlugin"><span class="post-toc-text">HotModuleReplacementPlugin</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#html-webpack-plugin"><span class="post-toc-text">html-webpack-plugin</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#uglifyjs-webpack-plugin"><span class="post-toc-text">uglifyjs-webpack-plugin</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#BannerPlugin"><span class="post-toc-text">BannerPlugin</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#preload-webpack-plugin"><span class="post-toc-text">preload-webpack-plugin</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#webpack-bundle-analyzer"><span class="post-toc-text">webpack-bundle-analyzer</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#常用的几个插件地址汇总："><span class="post-toc-text">常用的几个插件地址汇总：</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#结尾："><span class="post-toc-text">结尾：</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#更多文章："><span class="post-toc-text">更多文章：</span></a></li></ol></li></ol>
        </nav>
    </aside>
    



    
</section>
        
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info" class="inner">
      
<p>
    <span id="busuanzi_container_site_uv" style="display:none">
        总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style="display:none">
        总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


      <p>
        Powered by  <a href="http://hexo.io/" target="_blank">Hexo</a>
        Theme <a href="//github.com/wongminho/hexo-theme-miho" target="_blank">MiHo</a>
      &copy; 2019 Cumbermiao<br>
      </p>
    </div>
  </div>
</footer>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script>
  var mihoConfig = {
      root: "http://cumbermiao.github.io",
      animate: true,
      isHome: false,
      share: true,
      reward: 1
  }
</script>
<div class="sidebar">
    <div id="sidebar-search" title="Search">
        <i class="fa fa-search"></i>
    </div>
    <div id="sidebar-category" title="Categories">
        <i class="fa fa-book"></i>
    </div>
    <div id="sidebar-tag" title="Tags">
        <i class="fa fa-tags"></i>
    </div>
    <div id="sidebar-top">
        <span class="sidebar-top-icon"><i class="fa fa-angle-up"></i></span>
    </div>
</div>
<div class="sidebar-menu-box" id="sidebar-menu-box">
    <div class="sidebar-menu-box-container">
        <div id="sidebar-menu-box-categories">
            
        </div>
        <div id="sidebar-menu-box-tags">
            <a href="/tags/git/" style="font-size: 20px;">git</a> <a href="/tags/设计模式/" style="font-size: 10px;">设计模式</a>
        </div>
    </div>
    <a href="javascript:;" class="sidebar-menu-box-close">&times;</a>
</div>
<div class="mobile-header-menu-nav" id="mobile-header-menu-nav">
    <div class="mobile-header-menu-container">
        <span class="title">Menus</span>
        <ul class="mobile-header-menu-navbar">
            
            <li>
                <a href="/">
                    <i class="fa fa-home"></i><span>Home</span>
                </a>
            </li>
            
            <li>
                <a href="/archives">
                    <i class="fa fa-archive"></i><span>Archives</span>
                </a>
            </li>
            
            <li>
                <a href="/about">
                    <i class="fa fa-user"></i><span>About</span>
                </a>
            </li>
            
        </ul>
    </div>
    <div class="mobile-header-tag-container">
        <span class="title">Tags</span>
        <div id="mobile-header-container-tags">
            <a href="/tags/git/" style="font-size: 20px;">git</a> <a href="/tags/设计模式/" style="font-size: 10px;">设计模式</a>
        </div>
    </div>
</div>
<div class="search-wrap">
    <span class="search-close">&times;</span>
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
            <i class="icon icon-lg icon-chevron-left"></i>
        </a>
        <input class="search-field" placeholder="Search..." id="keywords">
        <a id="search-submit" href="javascript:;">
            <i class="fa fa-search"></i>
        </a>
    <div class="search-container" id="search-container">
        <ul class="search-result" id="search-result">
        </ul>
    </div>
</div>

<div id="search-tpl">
    <li class="search-result-item">
        <a href="{url}" class="search-item-li">
            <span class="search-item-li-title" title="{title}">{title}</span>
        </a>
    </li>
</div>
<script src="/js/search.js"></script>
<script src="/js/main.js"></script>


  <script src="//cdn.bootcss.com/particles.js/2.0.0/particles.min.js"></script>
  <div id="particles"></div>
  <script src="/js/particles.js"></script>







  <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  <script src="//cdn.bootcss.com/scrollReveal.js/3.0.5/scrollreveal.js"></script>
  <script src="/js/animate.js"></script>


  <script src="/js/pop-img.js"></script>
  <script>
     $(".article-entry p img").popImg();
  </script>

  </div>
</body>
</html>